<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bench Press 1RM Calculator</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        h1 {
            text-align: center;
            color: #222;
        }
        .input-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        label, input, select {
            font-size: 16px;
        }
        input, select {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            padding: 10px 20px;
            background-color: #d32f2f;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #b71c1c;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #222;
            color: white;
        }
        tr:nth-child(even) { background-color: #f9f9f9; }
        @media (max-width: 600px) {
            input, select { width: 100%; }
            .input-container { flex-direction: column; }
        }
    </style>
</head>
<body>
    <h1>Bench Press 1RM Calculator</h1>
    <p style="text-align: center;">Estimate your one-rep max using a logistic formula.</p>
    <div class="input-container">
        <label for="weight">Weight:</label>
        <input type="number" id="weight" min="0" step="0.1" value="135">
        <select id="unit">
            <option value="lbs">lbs</option>
            <option value="kg">kg</option>
        </select>
        <label for="reps">Reps:</label>
        <input type="number" id="reps" min="1" step="1" value="5">
        <button onclick="calculate1RM()">Calculate</button>
    </div>
    <table id="resultTable">
        <thead>
            <tr>
                <th>Reps</th>
                <th>Weight</th>
                <th>% of 1RM</th>
            </tr>
        </thead>
        <tbody id="tableBody"></tbody>
    </table>

    <script>
        function calculate1RM() {
            const weight = parseFloat(document.getElementById('weight').value);
            const reps = parseInt(document.getElementById('reps').value);
            const unit = document.getElementById('unit').value;
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';

            if (isNaN(weight) || isNaN(reps) || weight <= 0 || reps < 1) {
                alert('Please enter valid weight and reps.');
                return;
            }

            // Convert kg to lbs for calculation if needed
            const weightInLbs = unit === 'kg' ? weight * 2.20462 : weight;

            // New formula: R(x) = 24.4 / (1 + exp(0.0944x - 6.95))
            const R = (x) => 24.4 / (1 + Math.exp(0.0944 * x - 6.95));
            // Calculate 1RM: 1RM = w / R(100/w * x)
            const adjustedReps = (100 / weightInLbs) * reps;
            const percentageOf1RM = R(adjustedReps) / 100; // Convert to decimal
            const oneRM = weightInLbs / percentageOf1RM;

            const repRanges = [1, 2, 3, 4, 5, 6, 8, 10, 12, 15];

            repRanges.forEach(rep => {
                const percentage = R(rep) / 100; // Convert to decimal
                const estimatedWeight = oneRM * percentage;
                const displayWeight = unit === 'kg' ? (estimatedWeight / 2.20462).toFixed(1) : estimatedWeight.toFixed(1);
                const percentageDisplay = (percentage * 100).toFixed(1);
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${rep}</td>
                    <td>${displayWeight} ${unit}</td>
                    <td>${percentageDisplay}%</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Run on page load
        calculate1RM();
    </script>
</body>
</html>